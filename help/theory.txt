1. ORM Methods : ğœğ¡ğğœğ¤_ğšğœğœğğ¬ğ¬_ğ«ğ¢ğ ğ¡ğ­ğ¬() Function

It is a helper function that can be used to verify that the current user is allowed to perform a given operation, like writing to a model.
Ğ¦Ğµ Ğ´Ğ¾Ğ¿Ğ¾Ğ¼Ñ–Ğ¶Ğ½Ğ° Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ, ÑĞºÑƒ Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸ Ñ‚Ğ¾Ğ³Ğ¾, Ñ‰Ğ¾ Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ğ¾Ğ¼Ñƒ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡ĞµĞ²Ñ– Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»ĞµĞ½Ğ¾ Ğ²Ğ¸ĞºĞ¾Ğ½ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ·Ğ°Ğ´Ğ°Ğ½Ñƒ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ñ–Ñ, Ğ½Ğ°Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´, Ğ·Ğ°Ğ¿Ğ¸Ñ Ğ´Ğ¾ Ğ¼Ğ¾Ğ´ĞµĞ»Ñ–.

ğ€ğ«ğ ğ®ğ¦ğğ§ğ­ğ¬
âš’ operation : create, read, write, or unlink
âš’ raise_exception: A boolean value that indicates whether an exception should be raised if the operation is forbidden.


ğ„ğ±ğšğ¦ğ©ğ¥ğğ¬

self.with_user(4).env['account.move.line'].
ğœğ¡ğğœğ¤_ğšğœğœğğ¬ğ¬_ğ«ğ¢ğ ğ¡ğ­ğ¬('read', raise_exception=False)
# ğ“ğ«ğ®ğ or ğ…ğšğ¥ğ¬ğ depends on security applied to the user

self.with_user(4).env['account.move.line'].
ğœğ¡ğğœğ¤_ğšğœğœğğ¬ğ¬_ğ«ğ¢ğ ğ¡ğ­ğ¬('read',raise_exception=True)
# in case there are no access rights for this user,
# you will get ğğ±ğœğğ©ğ­ğ¢ğ¨ğ§ like below
# You are not allowed to access 'Journal Item' (account.move.line) records


ğŸ’¡ What is the expected Exception if no access rights are granted ?
IF operation == read
# {AccessError} You are not allowed to access...
IF operation == create
# {AccessError} You are not allowed to create...
IF operation == delete
# {AccessError} You are not allowed to delete...
IF operation == write
# {AccessError} You are not allowed to modify...

Feel free to let me know if you need more information about when or how to use this function.

2. ORM Methods : ğ®ğ¬ğğ«_ğ¡ğšğ¬_ğ ğ«ğ¨ğ®ğ©ğ¬ Function

The user_has_groups function is a model method that can be used to check
if the user is a member of at least one of the groups
specified in the groups passed.
Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ñ user_has_groups Ñ” Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒĞ½Ğ¸Ğ¼ Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ¾Ğ¼, ÑĞºĞ¸Ğ¹ Ğ¼Ğ¾Ğ¶Ğµ Ğ±ÑƒÑ‚Ğ¸ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ¸Ğ¹ Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸
ÑĞºÑ‰Ğ¾ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡ Ñ” ÑƒÑ‡Ğ°ÑĞ½Ğ¸ĞºĞ¾Ğ¼ Ñ…Ğ¾Ñ‡Ğ° Ğ± Ğ¾Ğ´Ğ½Ñ–Ñ”Ñ— Ğ· Ğ³Ñ€ÑƒĞ¿
Ğ·Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ° Ğ² Ğ¿Ñ€Ğ¾Ğ¹Ğ´ĞµĞ½Ğ¸Ñ… Ğ³Ñ€ÑƒĞ¿Ğ°Ñ….

ğŸŒ€  ğ€ğ«ğ ğ®ğ¦ğğ§ğ­ğ¬
groups : comma-separated list of fully-qualified group external IDs

ğŸŒ€  ğ‘ğğ­ğ®ğ«ğ§
True if the current user is a member of one of the groups in groups
else False

ğŸŒ€  ğ„ğ±ğšğ¦ğ©ğ¥ğ
groups = 'base.group_no_one, base.group_admin'
has_groups = self.ğ®ğ¬ğğ«_ğ¡ğšğ¬_ğ ğ«ğ¨ğ®ğ©ğ¬(groups)
# True or False depend on groups assigned to the user

3. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬ : default_get Function â˜”

default_get() method can be used to get a list of fields' default values.

It takes a list of field names as input and gives back a dictionary
that maps field names to their default values.

ĞœĞµÑ‚Ğ¾Ğ´ default_get() Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ´Ğ»Ñ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ ÑĞ¿Ğ¸ÑĞºÑƒ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½ÑŒ Ğ¿Ğ¾Ğ»Ñ–Ğ² Ğ·Ğ° Ğ·Ğ°Ğ¼Ğ¾Ğ²Ñ‡ÑƒĞ²Ğ°Ğ½Ğ½ÑĞ¼.

Ğ’Ñ–Ğ½ Ğ¿Ñ€Ğ¸Ğ¹Ğ¼Ğ°Ñ” ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ½Ğ°Ğ·Ğ² Ğ¿Ğ¾Ğ»Ñ–Ğ² ÑĞº Ğ²Ñ…Ñ–Ğ´Ğ½Ñ– Ğ´Ğ°Ğ½Ñ– Ñ‚Ğ° Ğ¿Ğ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” ÑĞ»Ğ¾Ğ²Ğ½Ğ¸Ğº
, ÑĞºĞ¸Ğ¹ Ğ·Ñ–ÑÑ‚Ğ°Ğ²Ğ»ÑÑ” Ñ–Ğ¼ĞµĞ½Ğ° Ğ¿Ğ¾Ğ»Ñ–Ğ² Ğ·Ñ– Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½ÑĞ¼Ğ¸ Ğ·Ğ° Ğ·Ğ°Ğ¼Ğ¾Ğ²Ñ‡ÑƒĞ²Ğ°Ğ½Ğ½ÑĞ¼.

ğŸŸ # get a list of fields' default values
fields = ['ğœğ¨ğ¦ğ©ğšğ§ğ²_ğ¢ğ', 'ğ¬ğ­ğšğ­ğ', 'ğğšğ­ğ_ğŸğ«ğ¨ğ¦']
self.env['hr.payslip'].default_get(fields)

# Result:
{'ğœğ¨ğ¦ğ©ğšğ§ğ²_ğ¢ğ': 1, 'ğğšğ­ğ_ğŸğ«ğ¨ğ¦': 2023-10-01, 'ğ¬ğ­ğšğ­ğ': 'draft'}


ğŸ”½ The following determines the default values:

â†ª From the field itself: If the field has a default value,
that value is used.

â†ª From the context

â†ª If there is a record for the field in the ğ¢ğ«.ğğğŸğšğ®ğ¥ğ­ ğ­ğšğ›ğ¥ğ,
The value of that record is used as the field's default value(s).

â†ª From the parent model: If the field is inherited from a parent model, the default_get() function is called on the parent model to get the default value for the field.


ğŸŸ # Update default value for field
@api.model
def default_get(self, fields_list):
x = super(MyModel, self).default_get(fields_list)
x['country_id'] = self.env.context.get('country_id')
return x

The default_get() function can be used to

ğŸ”† save you time while creating new record
ğŸ”† Improved user experience
ğŸ”† Reduced errors when user entering data from form view
ğŸ”† Increased efficiency: users can create new records more quickly and easily.

4. ğŸ“š ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬ : Sorted Function

The sorted() function is a powerful function for ordering records.
It is possible to sort records using any field or even a custom function.

# Sort the records from oldest to newest by ID.
env['sale.order'].search([]).sorted(key='id')

The sorted() method takes three arguments  
â™¦ ğ˜´ğ˜¦ğ˜­ğ˜§ : The recordset that you want to

â™¦ key: A function or field name that is used to determine the sorting order.

â™¦ reverse: A boolean value that indicates whether the records should be sorted in reverse order


ğ„ğ±ğšğ¦ğ©ğ¥ğğ¬

ğŸŸ # Sort the records from ğ¨ğ¥ğğğ¬ğ­ to ğ§ğğ°ğğ¬ğ­
by create date.
env['sale.order'].search([]).
ğ¬ğ¨ğ«ğ­ğğ(key='create_date').
mapped('create_date')
# [ (2023, 10, 01), (2023, 10, 02), (2023, 10, 03)]


ğŸŸ # Sort the records from ğ§ğğ°ğğ¬ğ­ to ğ¨ğ¥ğğğ¬ğ­
by create date.
env['sale.order'].search([]).
ğ¬ğ¨ğ«ğ­ğğ(key='create_date', ğ«ğğ¯ğğ«ğ¬ğ=ğ“ğ«ğ®ğ).
mapped('create_date')

# [ (2023, 10, 03), (2023, 10, 02), (2023, 10, 01)]


ğŸŸ # Sort the records using multiple fields
env['sale.order'].search([]).
ğ¬ğ¨ğ«ğ­ğğ(key=lambda x: (ğ±.ğ§ğšğ¦ğ, ğ±.ğ©ğšğ«ğ­ğ§ğğ«_ğ¢ğ, ğ±.ğœğ«ğğšğ­ğ_ğğšğ­ğ))

# sale.order(1, 2, 3, 4)

5. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬ : ğ…ğ¢ğ¥ğ­ğğ«ğğ Function â˜”

filtered() is a powerful function that allows you to filter records based on a given criteria. This can be useful for a variety of tasks, such as:

Only processing records that meet certain conditions. For example, you might want to only process records that have a certain status.

The filtered() function takes two arguments:

â™¦ ğ˜´ğ˜¦ğ˜­ğ˜§ :  The recordset that you want to filter.
â™¦ ğ˜§ğ˜¶ğ˜¯ğ˜¤ : A function or a dot-separated sequence of field names

ğ„ğ±ğšğ¦ğ©ğ¥ğğ¬

# Only keep records of whose user is the current user.
â© records.filtered(lambda r: r.user_id == user.id)

# Only keep records that have a status of "done".
â© records.filtered("state == 'done'")

# Only keep records of whose partner is a company.
â© records.filtered("partner_id.is_company")

The filtered() function is very efficient and can be used
to filter large recordsets quickly

6. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬ : ğŒğšğ©ğ©ğğ Function â˜”

mapped() is quite important in code optimization
It avoids loops that have been defined by the user.
It gives you a list of field values. Its argument accepts a string value as the column name and returns all the possible values from the recordset.

The mapped() function takes two arguments:

ğ¬ğğ¥ğŸ: The recordset to which the function will be applied.
ğŸğ®ğ§ğœ: A function or a field name sequence separated by a dot.


ğ„ğ±ğšğ¦ğ©ğ¥ğğ¬

ğŸŒ€ self.env['res.partner'].search([]).ğ¦ğšğ©ğ©ğğ('email')
# ['test1@yourcompany', 'test2@agrolait', 'test3@example']

ğŸŒ€ records.ğ¦ğšğ©ğ©ğğ(lambda r: r.field1 + r.field2)
# loop every record and sum two fields

ğŸŒ€ self.env['sale.order'].search([]).
ğ¦ğšğ©ğ©ğğ('order_line.product_uom_qty')
# [3.0, 3.0, 2.0, 4.0, 6.0]
# Return quantity from each order line from order_line for each sale order


ğ“ğ¡ğ ğ¦ğšğ©ğ©ğğ() function can be used to implement a variety of different data transformations, such as:

â„ Calculating new fields
â„ Filtering records
â„ Converting recordsets to different formats
â„ Joining recordsets
