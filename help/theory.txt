Contents:
----------------------------------------------------------------------------------------------------------------------------------------------

1. ORM Methods: ðœð¡ðžðœð¤_ðšðœðœðžð¬ð¬_ð«ð¢ð ð¡ð­ð¬() Function
2. ORM Methods: ð®ð¬ðžð«_ð¡ðšð¬_ð ð«ð¨ð®ð©ð¬ Function
3. ðŽð‘ðŒ ðŒðžð­ð¡ð¨ðð¬: default_get Function
4. ðŽð‘ðŒ ðŒðžð­ð¡ð¨ðð¬: Sorted Function
5. ðŽð‘ðŒ ðŒðžð­ð¡ð¨ðð¬: ð…ð¢ð¥ð­ðžð«ðžð Function
6. ðŽð‘ðŒ ðŒðžð­ð¡ð¨ðð¬: ðŒðšð©ð©ðžð Function
7. ðŽð‘ðŒ ðŒðžð­ð¡ð¨ðð¬: Create
8. ðŽð‘ðŒ ðŒðžð­ð¡ð¨ðð¬: Read
9. ðŽð‘ðŒ ðŒðžð­ð¡ð¨ðð¬: Write
10. ðŽð‘ðŒ ðŒðžð­ð¡ð¨ðð¬: name_create
11. ÐœÐµÑ‚Ð¾Ð´Ð¸ ORM: name_get
12. ðŽð‘ðŒ ðŒðžð­ð¡ð¨ðð¬: Unlink
13. How do I execute a SQL ðªð®ðžð«ð² inside an Odoo module?
14. Str2bool(value)

----------------------------------------------------------------------------------------------------------------------------------------------
1. ORM Methods : ðœð¡ðžðœð¤_ðšðœðœðžð¬ð¬_ð«ð¢ð ð¡ð­ð¬() Function

It is a helper function that can be used to verify that the current user is allowed to perform a given operation, like writing to a model.
Ð¦Ðµ Ð´Ð¾Ð¿Ð¾Ð¼Ñ–Ð¶Ð½Ð° Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ, ÑÐºÑƒ Ð¼Ð¾Ð¶Ð½Ð° Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ²Ð°Ñ‚Ð¸ Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ¸ Ñ‚Ð¾Ð³Ð¾, Ñ‰Ð¾ Ð¿Ð¾Ñ‚Ð¾Ñ‡Ð½Ð¾Ð¼Ñƒ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡ÐµÐ²Ñ– Ð´Ð¾Ð·Ð²Ð¾Ð»ÐµÐ½Ð¾ Ð²Ð¸ÐºÐ¾Ð½ÑƒÐ²Ð°Ñ‚Ð¸ Ð·Ð°Ð´Ð°Ð½Ñƒ Ð¾Ð¿ÐµÑ€Ð°Ñ†Ñ–ÑŽ, Ð½Ð°Ð¿Ñ€Ð¸ÐºÐ»Ð°Ð´, Ð·Ð°Ð¿Ð¸Ñ Ð´Ð¾ Ð¼Ð¾Ð´ÐµÐ»Ñ–.

ð€ð«ð ð®ð¦ðžð§ð­ð¬
âš’ operation : create, read, write, or unlink
âš’ raise_exception: A boolean value that indicates whether an exception should be raised if the operation is forbidden.


ð„ð±ðšð¦ð©ð¥ðžð¬

self.with_user(4).env['account.move.line'].
ðœð¡ðžðœð¤_ðšðœðœðžð¬ð¬_ð«ð¢ð ð¡ð­ð¬('read', raise_exception=False)
# ð“ð«ð®ðž or ð…ðšð¥ð¬ðž depends on security applied to the user

self.with_user(4).env['account.move.line'].
ðœð¡ðžðœð¤_ðšðœðœðžð¬ð¬_ð«ð¢ð ð¡ð­ð¬('read',raise_exception=True)
# in case there are no access rights for this user,
# you will get ðžð±ðœðžð©ð­ð¢ð¨ð§ like below
# You are not allowed to access 'Journal Item' (account.move.line) records


ðŸ’¡ What is the expected Exception if no access rights are granted ?
IF operation == read
# {AccessError} You are not allowed to access...
IF operation == create
# {AccessError} You are not allowed to create...
IF operation == delete
# {AccessError} You are not allowed to delete...
IF operation == write
# {AccessError} You are not allowed to modify...

Feel free to let me know if you need more information about when or how to use this function.

----------------------------------------------------------------------------------------------------------------------------------------------
2. ORM Methods : ð®ð¬ðžð«_ð¡ðšð¬_ð ð«ð¨ð®ð©ð¬ Function

The user_has_groups function is a model method that can be used to check
if the user is a member of at least one of the groups
specified in the groups passed.
Ð¤ÑƒÐ½ÐºÑ†Ñ–Ñ user_has_groups Ñ” Ð¼Ð¾Ð´ÐµÐ»ÑŒÐ½Ð¸Ð¼ Ð¼ÐµÑ‚Ð¾Ð´Ð¾Ð¼, ÑÐºÐ¸Ð¹ Ð¼Ð¾Ð¶Ðµ Ð±ÑƒÑ‚Ð¸ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð¸Ð¹ Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ¸
ÑÐºÑ‰Ð¾ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡ Ñ” ÑƒÑ‡Ð°ÑÐ½Ð¸ÐºÐ¾Ð¼ Ñ…Ð¾Ñ‡Ð° Ð± Ð¾Ð´Ð½Ñ–Ñ”Ñ— Ð· Ð³Ñ€ÑƒÐ¿
Ð·Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð° Ð² Ð¿Ñ€Ð¾Ð¹Ð´ÐµÐ½Ð¸Ñ… Ð³Ñ€ÑƒÐ¿Ð°Ñ….

ðŸŒ€  ð€ð«ð ð®ð¦ðžð§ð­ð¬
groups : comma-separated list of fully-qualified group external IDs

ðŸŒ€  ð‘ðžð­ð®ð«ð§
True if the current user is a member of one of the groups in groups
else False

ðŸŒ€  ð„ð±ðšð¦ð©ð¥ðž
groups = 'base.group_no_one, base.group_admin'
has_groups = self.ð®ð¬ðžð«_ð¡ðšð¬_ð ð«ð¨ð®ð©ð¬(groups)
# True or False depend on groups assigned to the user

----------------------------------------------------------------------------------------------------------------------------------------------
3. ðŽð‘ðŒ ðŒðžð­ð¡ð¨ðð¬ : default_get Function â˜”

default_get() method can be used to get a list of fields' default values.

It takes a list of field names as input and gives back a dictionary
that maps field names to their default values.

ÐœÐµÑ‚Ð¾Ð´ default_get() Ð¼Ð¾Ð¶Ð½Ð° Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ²Ð°Ñ‚Ð¸ Ð´Ð»Ñ Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð½Ñ ÑÐ¿Ð¸ÑÐºÑƒ Ð·Ð½Ð°Ñ‡ÐµÐ½ÑŒ Ð¿Ð¾Ð»Ñ–Ð² Ð·Ð° Ð·Ð°Ð¼Ð¾Ð²Ñ‡ÑƒÐ²Ð°Ð½Ð½ÑÐ¼.

Ð’Ñ–Ð½ Ð¿Ñ€Ð¸Ð¹Ð¼Ð°Ñ” ÑÐ¿Ð¸ÑÐ¾Ðº Ð½Ð°Ð·Ð² Ð¿Ð¾Ð»Ñ–Ð² ÑÐº Ð²Ñ…Ñ–Ð´Ð½Ñ– Ð´Ð°Ð½Ñ– Ñ‚Ð° Ð¿Ð¾Ð²ÐµÑ€Ñ‚Ð°Ñ” ÑÐ»Ð¾Ð²Ð½Ð¸Ðº
, ÑÐºÐ¸Ð¹ Ð·Ñ–ÑÑ‚Ð°Ð²Ð»ÑÑ” Ñ–Ð¼ÐµÐ½Ð° Ð¿Ð¾Ð»Ñ–Ð² Ð·Ñ– Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½ÑÐ¼Ð¸ Ð·Ð° Ð·Ð°Ð¼Ð¾Ð²Ñ‡ÑƒÐ²Ð°Ð½Ð½ÑÐ¼.

ðŸŸ # get a list of fields' default values
fields = ['ðœð¨ð¦ð©ðšð§ð²_ð¢ð', 'ð¬ð­ðšð­ðž', 'ððšð­ðž_ðŸð«ð¨ð¦']
self.env['hr.payslip'].default_get(fields)

# Result:
{'ðœð¨ð¦ð©ðšð§ð²_ð¢ð': 1, 'ððšð­ðž_ðŸð«ð¨ð¦': 2023-10-01, 'ð¬ð­ðšð­ðž': 'draft'}


ðŸ”½ The following determines the default values:

â†ª From the field itself: If the field has a default value,
that value is used.

â†ª From the context

â†ª If there is a record for the field in the ð¢ð«.ððžðŸðšð®ð¥ð­ ð­ðšð›ð¥ðž,
The value of that record is used as the field's default value(s).

â†ª From the parent model: If the field is inherited from a parent model, the default_get() function is called on the parent model to get the default value for the field.


ðŸŸ # Update default value for field
@api.model
def default_get(self, fields_list):
x = super(MyModel, self).default_get(fields_list)
x['country_id'] = self.env.context.get('country_id')
return x

The default_get() function can be used to

ðŸ”† save you time while creating new record
ðŸ”† Improved user experience
ðŸ”† Reduced errors when user entering data from form view
ðŸ”† Increased efficiency: users can create new records more quickly and easily.

----------------------------------------------------------------------------------------------------------------------------------------------
4. ðŸ“š ðŽð‘ðŒ ðŒðžð­ð¡ð¨ðð¬ : Sorted Function

The sorted() function is a powerful function for ordering records.
It is possible to sort records using any field or even a custom function.

# Sort the records from oldest to newest by ID.
env['sale.order'].search([]).sorted(key='id')

The sorted() method takes three arguments  
â™¦ ð˜´ð˜¦ð˜­ð˜§ : The recordset that you want to

â™¦ key: A function or field name that is used to determine the sorting order.

â™¦ reverse: A boolean value that indicates whether the records should be sorted in reverse order


ð„ð±ðšð¦ð©ð¥ðžð¬

ðŸŸ # Sort the records from ð¨ð¥ððžð¬ð­ to ð§ðžð°ðžð¬ð­
by create date.
env['sale.order'].search([]).
ð¬ð¨ð«ð­ðžð(key='create_date').
mapped('create_date')
# [ (2023, 10, 01), (2023, 10, 02), (2023, 10, 03)]


ðŸŸ # Sort the records from ð§ðžð°ðžð¬ð­ to ð¨ð¥ððžð¬ð­
by create date.
env['sale.order'].search([]).
ð¬ð¨ð«ð­ðžð(key='create_date', ð«ðžð¯ðžð«ð¬ðž=ð“ð«ð®ðž).
mapped('create_date')

# [ (2023, 10, 03), (2023, 10, 02), (2023, 10, 01)]


ðŸŸ # Sort the records using multiple fields
env['sale.order'].search([]).
ð¬ð¨ð«ð­ðžð(key=lambda x: (ð±.ð§ðšð¦ðž, ð±.ð©ðšð«ð­ð§ðžð«_ð¢ð, ð±.ðœð«ðžðšð­ðž_ððšð­ðž))

# sale.order(1, 2, 3, 4)

----------------------------------------------------------------------------------------------------------------------------------------------
5. ðŽð‘ðŒ ðŒðžð­ð¡ð¨ðð¬ : ð…ð¢ð¥ð­ðžð«ðžð Function â˜”

filtered() is a powerful function that allows you to filter records based on a given criteria. This can be useful for a variety of tasks, such as:

Only processing records that meet certain conditions. For example, you might want to only process records that have a certain status.

The filtered() function takes two arguments:

â™¦ ð˜´ð˜¦ð˜­ð˜§ :  The recordset that you want to filter.
â™¦ ð˜§ð˜¶ð˜¯ð˜¤ : A function or a dot-separated sequence of field names

ð„ð±ðšð¦ð©ð¥ðžð¬

# Only keep records of whose user is the current user.
â© records.filtered(lambda r: r.user_id == user.id)

# Only keep records that have a status of "done".
â© records.filtered("state == 'done'")

# Only keep records of whose partner is a company.
â© records.filtered("partner_id.is_company")

The filtered() function is very efficient and can be used
to filter large recordsets quickly

----------------------------------------------------------------------------------------------------------------------------------------------
6. ðŽð‘ðŒ ðŒðžð­ð¡ð¨ðð¬ : ðŒðšð©ð©ðžð Function â˜”

mapped() is quite important in code optimization
It avoids loops that have been defined by the user.
It gives you a list of field values. Its argument accepts a string value as the column name and returns all the possible values from the recordset.

The mapped() function takes two arguments:

ð¬ðžð¥ðŸ: The recordset to which the function will be applied.
ðŸð®ð§ðœ: A function or a field name sequence separated by a dot.


ð„ð±ðšð¦ð©ð¥ðžð¬

ðŸŒ€ self.env['res.partner'].search([]).ð¦ðšð©ð©ðžð('email')
# ['test1@yourcompany', 'test2@agrolait', 'test3@example']

ðŸŒ€ records.ð¦ðšð©ð©ðžð(lambda r: r.field1 + r.field2)
# loop every record and sum two fields

ðŸŒ€ self.env['sale.order'].search([]).
ð¦ðšð©ð©ðžð('order_line.product_uom_qty')
# [3.0, 3.0, 2.0, 4.0, 6.0]
# Return quantity from each order line from order_line for each sale order


ð“ð¡ðž ð¦ðšð©ð©ðžð() function can be used to implement a variety of different data transformations, such as:

â„ Calculating new fields
â„ Filtering records
â„ Converting recordsets to different formats
â„ Joining recordsets

----------------------------------------------------------------------------------------------------------------------------------------------
7. ðŽð‘ðŒ ðŒðžð­ð¡ð¨ðð¬ : Create ðŸ“š

It is used to create new records for a given model. It takes a ð¥ð¢ð¬ð­ ð¨ðŸ ðð¢ðœð­ð¢ð¨ð§ðšð«ð¢ðžð¬ as input, where each dictionary represents the values for the fields of the new record.

ð‘ðžð­ð®ð«ð§:  a list of the created records.

ð„ð±ðšð¦ð©ð¥ðž

self.env['res.partner'].create(
[
{'name': 'test1'},
{'name': 'test2'}
])
# Result : res.partner(7, 8)


ðƒðžðœð¨ð«ðšð­ðžð ð°ð¢ð­ð¡ ðŸ”½

1ï¸âƒ£ The @api.model_create_multi decorator : indicates that the function can be used to create multiple records at once.
2ï¸âƒ£ The @api.returns() decorator : indicates that the function returns a list of records.

ðŸ”† If you don't know what a ððžðœð¨ð«ðšð­ð¨ð« is or how work don't worry,
we'll talk about that in more detail in the post about how to make your own decorator.

ðŸ”† The create method first checks if the user has permission
to create records of the specified model.
If the user does not have permission, an AccessError is raised.

----------------------------------------------------------------------------------------------------------------------------------------------
8. ðŽð‘ðŒ ðŒðžð­ð¡ð¨ðð¬ :Read ðŸ“š

it allows you to read data from the database.
It ð­ðšð¤ðžð¬ ðš ð¥ð¢ð¬ð­ ð¨ðŸ ðŸð¢ðžð¥ðð¬ ðšð¬ ð¢ð§ð©ð®ð­ and returns a list of dictionaries mapping field

it takes param called ðŸð¢ðžð¥ðð¬ : This parameter specifies which
fields you want to read from the database.

ð„ð±ðšð¦ð©ð¥ðž

fields = ['name', 'email']
res = self.env['res.partner'].browse( (7,8) ).read(fields)

Result
# [
# {'email': 'mark.brown23@example', 'id': 7, 'name': 'Marc Demo'},
# {'email': 'joel.willis63@example', 'id': 8, 'name': 'Joel Willis'}
# ]

ðŸ’¡ IF you do not specify any fields the read function will return
all fields for the record.


- How work ?

works by first fetching the stored fields from the database to the cache. 
Stored fields are fields that are stored in the database

- Why important ?

- Send data to Another system (Integration)
- Display data in a list view or form view
- Export data to a file

----------------------------------------------------------------------------------------------------------------------------------------------
9. ðŽð‘ðŒ ðŒðžð­ð¡ð¨ðð¬ : Write ðŸ“š

write() function is a used for updating records. 
It allows you to update multiple fields on multiple records at once 
and it handles all of the necessary validation and security checks for you.

ð€ð«ð ð®ð¦ðžð§ð­ð¬:

1ï¸âƒ£ self: This is the record or set of records that you want to write.
2ï¸âƒ£ vals: This is a dictionary of field names and values.

ð„ð±ðšð¦ð©ð¥ðžð¬

ðŸ”°# update multi records
orders= self.env['sale.order'].browse((6, 7))
orders.write({'state': 'to_cancel'})

ðŸ”° # update one record
self.user_admin = self.env.ref('base.user_admin')
self.user_admin.write({'name': 'Zahra'})


â†ª raise ð€ðœðœðžð¬ð¬ð„ð«ð«ð¨ð«: if user is not allowed to modify the specified records/fields

----------------------------------------------------------------------------------------------------------------------------------------------
10. ðŽð‘ðŒ ðŒðžð­ð¡ð¨ðð¬ : name_create ðŸ“š

convenient way to create a new record by providing only the display name (ð«ðžðœ_ð§ðšð¦ðž).

The name_create() method will initialize the new record with any default values applicable to the model or provided through the context.

ðšð«ð ð®ð¦ðžð§ð­: the display name of the new record
ð«ðžð­ð®ð«ð§ : name_get for the record

ð„ð±ðšð¦ð©ð¥ðž

self.env['res.partner'].name_create('Test1')
# Output : (1, 'Test 1')

â© The usual behavior of create() applies, such as checking access rights.

â© useful method for creating new records quickly and easily then handle more data later on

ðŸ”° What happens if you call this method on a model that doesn't have a rec_name?
Return ð…ðšð¥ð¬ðž and in log, we have below warning
"""Cannot execute name_create, no _rec_name defined..."""

Don't worry if you have trouble with ð«ðžðœ_ð§ðšð¦ðž; we'll look into it more when we talk about class attributes that Odoo provide

----------------------------------------------------------------------------------------------------------------------------------------------
11. ÐœÐµÑ‚Ð¾Ð´Ð¸ ORM : name_get ðŸ“š

ÐœÐµÑ‚Ð¾Ð´ name_get(), Ð²Ð¸Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ Ñƒ Ð±Ð°Ð·Ð¾Ð²Ñ–Ð¹ Ð¼Ð¾Ð´ÐµÐ»Ñ–, Ð´Ð¾Ð·Ð²Ð¾Ð»ÑÑ” Ð½Ð°Ð»Ð°ÑˆÑ‚ÑƒÐ²Ð°Ñ‚Ð¸ ÑÐ¿Ð¾ÑÑ–Ð± Ð²Ñ–Ð´Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð½Ñ Ð·Ð°Ð¿Ð¸ÑÑ–Ð².

Ð—Ð° Ð·Ð°Ð¼Ð¾Ð²Ñ‡ÑƒÐ²Ð°Ð½Ð½ÑÐ¼ Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ name_get() Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð¿Ð¾Ð²ÐµÑ€Ñ‚Ð°Ñ” Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ Ð¿Ð¾Ð»Ñ rec_name. ÐžÐ´Ð½Ð°Ðº Ñ†ÑŽ Ñ„ÑƒÐ½ÐºÑ†Ñ–ÑŽ Ð¼Ð¾Ð¶Ð½Ð° Ð¿ÐµÑ€ÐµÐ²Ð¸Ð·Ð½Ð°Ñ‡Ð¸Ñ‚Ð¸, Ñ‰Ð¾Ð± ÑÑ‚Ð²Ð¾Ñ€Ð¸Ñ‚Ð¸ Ð²Ð»Ð°ÑÐ½Ñƒ Ð»Ð¾Ð³Ñ–ÐºÑƒ Ð²Ñ–Ð´Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð½Ñ Ð·Ð°Ð¿Ð¸ÑÑ–Ð².

ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´ ðŸ”°

ÐœÐ¾Ð¶Ð»Ð¸Ð²Ð¾, Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¾ Ð²Ñ–Ð´Ð¾Ð±Ñ€Ð°Ð·Ð¸Ñ‚Ð¸ Ð½Ð°Ð·Ð²Ñƒ Ð·Ð°Ð¼Ð¾Ð²Ð»ÐµÐ½Ð½Ñ Ð½Ð° Ð¿Ñ€Ð¾Ð´Ð°Ð¶ Ñ€Ð°Ð·Ð¾Ð¼ Ñ–Ð· Ñ–Ð¼ÐµÐ½ÐµÐ¼ Ð¿Ð°Ñ€Ñ‚Ð½ÐµÑ€Ð° Ð´Ð»Ñ Ð·Ð°Ð¿Ð¸ÑÑ–Ð², ÑÐºÑ– Ð²Ñ–Ð´Ð¾Ð±Ñ€Ð°Ð¶Ð°ÑŽÑ‚ÑŒÑÑ Ð² Ñ€ÐµÐ¶Ð¸Ð¼Ñ– Ð·Ð²'ÑÐ·ÐºÑƒ

def name_get(self):
    Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ = []
    Ð”Ð»Ñ Ð·Ð°Ð¿Ð¸ÑÑƒ Ð² ÑÐµÐ±Ðµ:
      result.append((record.id, "%s (%s)" %
(record.name, record.partner_id.Ñ–Ð¼'Ñ)))
    Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð¿Ð¾Ð²ÐµÑ€Ð½ÐµÐ½Ð½Ñ

Ð§Ð¾Ð¼Ñƒ Ð²Ð°Ð¶Ð»Ð¸Ð²Ð¾? ðŸ”°

Ð—Ð° Ð´Ð¾Ð¿Ð¾Ð¼Ð¾Ð³Ð¾ÑŽ Ñ„ÑƒÐ½ÐºÑ†Ñ–Ñ— name_get() Ð¼Ð¾Ð¶Ð½Ð° Ð²Ñ–Ð´Ð¾Ð±Ñ€Ð°Ð·Ð¸Ñ‚Ð¸ Ð´Ð¾Ð´Ð°Ñ‚ÐºÐ¾Ð²Ñƒ Ñ–Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ñ–ÑŽ Ð¿Ñ€Ð¾ ÐºÐ¾Ð¶ÐµÐ½ Ð·Ð°Ð¿Ð¸Ñ, Ð½Ð°Ð¿Ñ€Ð¸ÐºÐ»Ð°Ð´ ÐµÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ñƒ Ð¿Ð¾ÑˆÑ‚Ñƒ Ñ‚Ð° ÑÑ‚Ð°Ð½ ÐºÐ»Ñ–Ñ”Ð½Ñ‚Ð° Ð°Ð±Ð¾ Ð²Ð°Ñ€Ñ‚Ñ–ÑÑ‚ÑŒ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚Ñƒ

Ð¦Ðµ Ð¼Ð¾Ð¶Ðµ Ð·Ñ€Ð¾Ð±Ð¸Ñ‚Ð¸ Ð²Ð°ÑˆÑ– ÑÐ¿Ð¸ÑÐºÐ¸ Ñ‚Ð° Ñ€Ð¾Ð·ÐºÑ€Ð¸Ð²Ð½Ñ– Ð¼ÐµÐ½ÑŽ Ð¿Ñ€Ð¾ÑÑ‚Ñ–ÑˆÐ¸Ð¼Ð¸ Ð´Ð»Ñ Ñ€Ð¾Ð·ÑƒÐ¼Ñ–Ð½Ð½Ñ Ñ‚Ð° Ð±Ñ–Ð»ÑŒÑˆ Ñ‡Ð¸Ñ‚Ð°Ð±ÐµÐ»ÑŒÐ½Ð¸Ð¼Ð¸.

----------------------------------------------------------------------------------------------------------------------------------------------
12. ðŽð‘ðŒ ðŒðžð­ð¡ð¨ðð¬ : Unlink ðŸ“š

It is a simple method used for deleting records from the database.
There is no way to undo the deletion once you have executed it.
Ð¦Ðµ Ð¿Ñ€Ð¾ÑÑ‚Ð¸Ð¹ Ð¼ÐµÑ‚Ð¾Ð´, ÑÐºÐ¸Ð¹ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÑ”Ñ‚ÑŒÑÑ Ð´Ð»Ñ Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ð½Ñ Ð·Ð°Ð¿Ð¸ÑÑ–Ð² Ð· Ð±Ð°Ð·Ð¸ Ð´Ð°Ð½Ð¸Ñ….
ÐÐµÐ¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ ÑÐºÐ°ÑÑƒÐ²Ð°Ñ‚Ð¸ Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ð½Ñ Ð¿Ñ–ÑÐ»Ñ Ð¹Ð¾Ð³Ð¾ Ð²Ð¸ÐºÐ¾Ð½Ð°Ð½Ð½Ñ.

ð„ð±ðšð¦ð©ð¥ðž ðŸ”°

cancel_orders= env['sale.order'].search([('state', '=', 'cancel')])
cancel_orders.ð®ð§ð¥ð¢ð§ð¤()
# Return True

ð‡ð¨ð° ð°ð¨ð«ð¤ ?

âž¡ Checking access rights to ensure that the user is allowed to delete the records
âž¡ Deleting any attachments associated with the records
âž¡ Invalidating the entire cache
âž¡ Deleting the records' properties

Ð¯Ðº Ð¿Ñ€Ð°Ñ†ÑŽÑŽÑ‚ÑŒ ?

âž¡ ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° Ð¿Ñ€Ð°Ð² Ð´Ð¾ÑÑ‚ÑƒÐ¿Ñƒ, Ñ‰Ð¾Ð± Ð¿ÐµÑ€ÐµÐºÐ¾Ð½Ð°Ñ‚Ð¸ÑÑ, Ñ‰Ð¾ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡ÐµÐ²Ñ– Ð´Ð¾Ð·Ð²Ð¾Ð»ÐµÐ½Ð¾ Ð²Ð¸Ð´Ð°Ð»ÑÑ‚Ð¸ Ð·Ð°Ð¿Ð¸ÑÐ¸
âž¡ Ð’Ð¸Ð´Ð°Ð»ÐµÐ½Ð½Ñ Ð²ÐºÐ»Ð°Ð´ÐµÐ½ÑŒ, Ð¿Ð¾Ð²'ÑÐ·Ð°Ð½Ð¸Ñ… Ñ–Ð· Ð·Ð°Ð¿Ð¸ÑÐ°Ð¼Ð¸
âž¡ Ð’Ð¸Ð·Ð½Ð°Ð½Ð½Ñ Ð½ÐµÐ´Ñ–Ð¹ÑÐ½Ð¸Ð¼ ÑƒÑÑŒÐ¾Ð³Ð¾ ÐºÐµÑˆÑƒ
âž¡ Ð’Ð¸Ð´Ð°Ð»ÐµÐ½Ð½Ñ Ð²Ð»Ð°ÑÑ‚Ð¸Ð²Ð¾ÑÑ‚ÐµÐ¹ Ð·Ð°Ð¿Ð¸ÑÑ–Ð²

----------------------------------------------------------------------------------------------------------------------------------------------
13. How do I execute a SQL ðªð®ðžð«ð² inside an Odoo module? ðŸ‘¾

1ï¸âƒ£ ðœð« = ð¬ðžð¥ðŸ.ðžð§ð¯.ðœð«
You can use the self.env.cr object. This object provides a direct connection
to the database.
ÐœÐ¾Ð¶Ð½Ð° Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ²Ð°Ñ‚Ð¸ Ð¾Ð±'Ñ”ÐºÑ‚ self.env.cr. Ð¦ÐµÐ¹ Ð¾Ð±'Ñ”ÐºÑ‚ Ð·Ð°Ð±ÐµÐ·Ð¿ÐµÑ‡ÑƒÑ” Ð¿Ñ€ÑÐ¼Ðµ Ð·'Ñ”Ð´Ð½Ð°Ð½Ð½Ñ
Ð² Ð±Ð°Ð·Ñƒ Ð´Ð°Ð½Ð¸Ñ….

2ï¸âƒ£ ðœð«.ðžð±ðžðœð®ð­ðž() 
Use the cr.execute() method to execute the query.
You can pass in the query as a string or as a variable containing the query
Ð’Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ¹Ñ‚Ðµ Ð¼ÐµÑ‚Ð¾Ð´ cr.execute() Ð´Ð»Ñ Ð²Ð¸ÐºÐ¾Ð½Ð°Ð½Ð½Ñ Ð·Ð°Ð¿Ð¸Ñ‚Ñƒ.
Ð£ Ð·Ð°Ð¿Ð¸Ñ‚Ñ– Ð¼Ð¾Ð¶Ð½Ð° Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‚Ð¸ Ñ€ÑÐ´Ð¾Ðº Ð°Ð±Ð¾ Ð·Ð¼Ñ–Ð½Ð½Ñƒ, Ñ‰Ð¾ Ð¼Ñ–ÑÑ‚Ð¸Ñ‚ÑŒ Ð·Ð°Ð¿Ð¸Ñ‚

3ï¸âƒ£ ðœð«.ðŸðžð­ðœð¡ðšð¥ð¥()
Use the cr.fetchall() method to fetch the results of the query.
This will return a list of tuples, where each tuple represents
a row in the result set.
Ð’Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð¾Ð²ÑƒÐ¹Ñ‚Ðµ Ð¼ÐµÑ‚Ð¾Ð´ cr.fetchall() Ð´Ð»Ñ Ð¾Ñ‚Ñ€Ð¸Ð¼Ð°Ð½Ð½Ñ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ–Ð² Ð·Ð°Ð¿Ð¸Ñ‚Ñƒ.
Ð¦Ðµ Ð¿Ð¾Ð²ÐµÑ€Ð½Ðµ ÑÐ¿Ð¸ÑÐ¾Ðº ÐºÐ¾Ñ€Ñ‚ÐµÐ¶Ñ–Ð², Ð´Ðµ ÐºÐ¾Ð¶ÐµÐ½ ÐºÐ¾Ñ€Ñ‚ÐµÐ¶ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÑÑ”
Ñ€ÑÐ´Ð¾Ðº Ñƒ Ð½Ð°Ð±Ð¾Ñ€Ñ– Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ–Ð².

4ï¸âƒ£ ðƒð¨ ð¬ð¨ð¦ðžð­ð¡ð¢ð§ð  ð°ð¢ð­ð¡ ð­ð¡ðž ð«ðžð¬ð®ð¥ð­ð¬

Example ðŸŽ²

cr = self.env.cr

# Execute the query
cr.execute(""" SELECT id ,name,email
FROM res_partner
WHERE id in %s
""", (((1, 2)),))

res = cr.fetchall()

# Do something with the results
res_data = { id: (name, email) for id, name, email in res }

# Result
# {
# 1: ('My Company (San Francisco)', info@yourcompany'),
# 2: ('OdooBot', 'odoobot@example')
# }

----------------------------------------------------------------------------------------------------------------------------------------------
14. Str2bool(value) ðŸš€

Sometimes, when we're working in Odoo, we need to change the return result to a bool. To do this, you can import a simple function called str2bool.

takes a string as input and converts it to a boolean value.

Ð†Ð½Ð¾Ð´Ñ–, ÐºÐ¾Ð»Ð¸ Ð¼Ð¸ Ð¿Ñ€Ð°Ñ†ÑŽÑ”Ð¼Ð¾ Ð² Odoo, Ð½Ð°Ð¼ Ð¿Ð¾Ñ‚Ñ€Ñ–Ð±Ð½Ð¾ Ð·Ð¼Ñ–Ð½Ð¸Ñ‚Ð¸ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ Ð¿Ð¾Ð²ÐµÑ€Ð½ÐµÐ½Ð½Ñ Ð½Ð° Ð±ÑƒÐ»ÐµÐ²Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ. Ð”Ð»Ñ Ñ†ÑŒÐ¾Ð³Ð¾ Ð¼Ð¾Ð¶Ð½Ð° Ñ–Ð¼Ð¿Ð¾Ñ€Ñ‚ÑƒÐ²Ð°Ñ‚Ð¸ Ð¿Ñ€Ð¾ÑÑ‚Ñƒ Ñ„ÑƒÐ½ÐºÑ†Ñ–ÑŽ Ð¿Ñ–Ð´ Ð½Ð°Ð·Ð²Ð¾ÑŽ str2bool.

Ð¿Ñ€Ð¸Ð¹Ð¼Ð°Ñ” Ñ€ÑÐ´Ð¾Ðº ÑÐº Ð²Ñ…Ñ–Ð´Ð½Ñ– Ð´Ð°Ð½Ñ– Ñ‚Ð° Ð¿ÐµÑ€ÐµÑ‚Ð²Ð¾Ñ€ÑŽÑ” Ð¹Ð¾Ð³Ð¾ Ð½Ð° Ð»Ð¾Ð³Ñ–Ñ‡Ð½Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ñ.

âž–âž–âž–

ððšð«ðšð¦ð¬
value (str)

ð‘ðžð­ð®ð«ð§ 
The boolean value is True if the string is one of the following: 
"y", "yes", "1", "true", "t", or "on".

The boolean value is False if the string is one of the following:
"n", "no", "0", "false", "f", or "off".

If the string is not in any of the above lists,
The function raises a ValueError exception.

ð„ð±ðšð¦ð©ð¥ðžð¬

â‡ï¸ str2bool('yes')
>>> True

â‡ï¸ str2bool('off')
>>> False

â‡ï¸ str2bool(â€˜fooâ€™)
>>> Exception from type {ValueError}
