Contents:
----------------------------------------------------------------------------------------------------------------------------------------------

1. ORM Methods: ğœğ¡ğğœğ¤_ğšğœğœğğ¬ğ¬_ğ«ğ¢ğ ğ¡ğ­ğ¬() Function
2. ORM Methods: ğ®ğ¬ğğ«_ğ¡ğšğ¬_ğ ğ«ğ¨ğ®ğ©ğ¬ Function
3. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬: default_get Function
4. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬: Sorted Function
5. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬: ğ…ğ¢ğ¥ğ­ğğ«ğğ Function
6. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬: ğŒğšğ©ğ©ğğ Function
7. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬: Create
8. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬: Read
9. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬: Write
10. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬: name_create
11. ĞœĞµÑ‚Ğ¾Ğ´Ğ¸ ORM: name_get
12. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬: Unlink
13. How do I execute a SQL ğªğ®ğğ«ğ² inside an Odoo module?
14. Str2bool(value)
15. ğ€ğğ(value, *args, **kwargs) function
16. ğğ§ğ_ğ¨ğŸ function
17. ğ’ğ­ğšğ«ğ­_ğ¨ğŸ function in Odoo
18. Model.with_env
19. Model.sudo()


----------------------------------------------------------------------------------------------------------------------------------------------
1. ORM Methods : ğœğ¡ğğœğ¤_ğšğœğœğğ¬ğ¬_ğ«ğ¢ğ ğ¡ğ­ğ¬() Function

It is a helper function that can be used to verify that the current user is allowed to perform a given operation, like writing to a model.
Ğ¦Ğµ Ğ´Ğ¾Ğ¿Ğ¾Ğ¼Ñ–Ğ¶Ğ½Ğ° Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ, ÑĞºÑƒ Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸ Ñ‚Ğ¾Ğ³Ğ¾, Ñ‰Ğ¾ Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ğ¾Ğ¼Ñƒ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡ĞµĞ²Ñ– Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»ĞµĞ½Ğ¾ Ğ²Ğ¸ĞºĞ¾Ğ½ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ·Ğ°Ğ´Ğ°Ğ½Ñƒ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ñ–Ñ, Ğ½Ğ°Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´, Ğ·Ğ°Ğ¿Ğ¸Ñ Ğ´Ğ¾ Ğ¼Ğ¾Ğ´ĞµĞ»Ñ–.

ğ€ğ«ğ ğ®ğ¦ğğ§ğ­ğ¬
âš’ operation : create, read, write, or unlink
âš’ raise_exception: A boolean value that indicates whether an exception should be raised if the operation is forbidden.


ğ„ğ±ğšğ¦ğ©ğ¥ğğ¬

self.with_user(4).env['account.move.line'].
ğœğ¡ğğœğ¤_ğšğœğœğğ¬ğ¬_ğ«ğ¢ğ ğ¡ğ­ğ¬('read', raise_exception=False)
# ğ“ğ«ğ®ğ or ğ…ğšğ¥ğ¬ğ depends on security applied to the user

self.with_user(4).env['account.move.line'].
ğœğ¡ğğœğ¤_ğšğœğœğğ¬ğ¬_ğ«ğ¢ğ ğ¡ğ­ğ¬('read',raise_exception=True)
# in case there are no access rights for this user,
# you will get ğğ±ğœğğ©ğ­ğ¢ğ¨ğ§ like below
# You are not allowed to access 'Journal Item' (account.move.line) records


ğŸ’¡ What is the expected Exception if no access rights are granted ?
IF operation == read
# {AccessError} You are not allowed to access...
IF operation == create
# {AccessError} You are not allowed to create...
IF operation == delete
# {AccessError} You are not allowed to delete...
IF operation == write
# {AccessError} You are not allowed to modify...

Feel free to let me know if you need more information about when or how to use this function.

----------------------------------------------------------------------------------------------------------------------------------------------
2. ORM Methods : ğ®ğ¬ğğ«_ğ¡ğšğ¬_ğ ğ«ğ¨ğ®ğ©ğ¬ Function

The user_has_groups function is a model method that can be used to check
if the user is a member of at least one of the groups
specified in the groups passed.
Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ñ user_has_groups Ñ” Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒĞ½Ğ¸Ğ¼ Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ¾Ğ¼, ÑĞºĞ¸Ğ¹ Ğ¼Ğ¾Ğ¶Ğµ Ğ±ÑƒÑ‚Ğ¸ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ¸Ğ¹ Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸
ÑĞºÑ‰Ğ¾ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡ Ñ” ÑƒÑ‡Ğ°ÑĞ½Ğ¸ĞºĞ¾Ğ¼ Ñ…Ğ¾Ñ‡Ğ° Ğ± Ğ¾Ğ´Ğ½Ñ–Ñ”Ñ— Ğ· Ğ³Ñ€ÑƒĞ¿
Ğ·Ğ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ° Ğ² Ğ¿Ñ€Ğ¾Ğ¹Ğ´ĞµĞ½Ğ¸Ñ… Ğ³Ñ€ÑƒĞ¿Ğ°Ñ….

ğŸŒ€  ğ€ğ«ğ ğ®ğ¦ğğ§ğ­ğ¬
groups : comma-separated list of fully-qualified group external IDs

ğŸŒ€  ğ‘ğğ­ğ®ğ«ğ§
True if the current user is a member of one of the groups in groups
else False

ğŸŒ€  ğ„ğ±ğšğ¦ğ©ğ¥ğ
groups = 'base.group_no_one, base.group_admin'
has_groups = self.ğ®ğ¬ğğ«_ğ¡ğšğ¬_ğ ğ«ğ¨ğ®ğ©ğ¬(groups)
# True or False depend on groups assigned to the user

----------------------------------------------------------------------------------------------------------------------------------------------
3. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬ : default_get Function â˜”

default_get() method can be used to get a list of fields' default values.

It takes a list of field names as input and gives back a dictionary
that maps field names to their default values.

ĞœĞµÑ‚Ğ¾Ğ´ default_get() Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ´Ğ»Ñ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ ÑĞ¿Ğ¸ÑĞºÑƒ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½ÑŒ Ğ¿Ğ¾Ğ»Ñ–Ğ² Ğ·Ğ° Ğ·Ğ°Ğ¼Ğ¾Ğ²Ñ‡ÑƒĞ²Ğ°Ğ½Ğ½ÑĞ¼.

Ğ’Ñ–Ğ½ Ğ¿Ñ€Ğ¸Ğ¹Ğ¼Ğ°Ñ” ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ½Ğ°Ğ·Ğ² Ğ¿Ğ¾Ğ»Ñ–Ğ² ÑĞº Ğ²Ñ…Ñ–Ğ´Ğ½Ñ– Ğ´Ğ°Ğ½Ñ– Ñ‚Ğ° Ğ¿Ğ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” ÑĞ»Ğ¾Ğ²Ğ½Ğ¸Ğº
, ÑĞºĞ¸Ğ¹ Ğ·Ñ–ÑÑ‚Ğ°Ğ²Ğ»ÑÑ” Ñ–Ğ¼ĞµĞ½Ğ° Ğ¿Ğ¾Ğ»Ñ–Ğ² Ğ·Ñ– Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½ÑĞ¼Ğ¸ Ğ·Ğ° Ğ·Ğ°Ğ¼Ğ¾Ğ²Ñ‡ÑƒĞ²Ğ°Ğ½Ğ½ÑĞ¼.

ğŸŸ # get a list of fields' default values
fields = ['ğœğ¨ğ¦ğ©ğšğ§ğ²_ğ¢ğ', 'ğ¬ğ­ğšğ­ğ', 'ğğšğ­ğ_ğŸğ«ğ¨ğ¦']
self.env['hr.payslip'].default_get(fields)

# Result:
{'ğœğ¨ğ¦ğ©ğšğ§ğ²_ğ¢ğ': 1, 'ğğšğ­ğ_ğŸğ«ğ¨ğ¦': 2023-10-01, 'ğ¬ğ­ğšğ­ğ': 'draft'}


ğŸ”½ The following determines the default values:

â†ª From the field itself: If the field has a default value,
that value is used.

â†ª From the context

â†ª If there is a record for the field in the ğ¢ğ«.ğğğŸğšğ®ğ¥ğ­ ğ­ğšğ›ğ¥ğ,
The value of that record is used as the field's default value(s).

â†ª From the parent model: If the field is inherited from a parent model, the default_get() function is called on the parent model to get the default value for the field.


ğŸŸ # Update default value for field
@api.model
def default_get(self, fields_list):
x = super(MyModel, self).default_get(fields_list)
x['country_id'] = self.env.context.get('country_id')
return x

The default_get() function can be used to

ğŸ”† save you time while creating new record
ğŸ”† Improved user experience
ğŸ”† Reduced errors when user entering data from form view
ğŸ”† Increased efficiency: users can create new records more quickly and easily.

----------------------------------------------------------------------------------------------------------------------------------------------
4. ğŸ“š ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬ : Sorted Function

The sorted() function is a powerful function for ordering records.
It is possible to sort records using any field or even a custom function.

# Sort the records from oldest to newest by ID.
env['sale.order'].search([]).sorted(key='id')

The sorted() method takes three arguments  
â™¦ ğ˜´ğ˜¦ğ˜­ğ˜§ : The recordset that you want to

â™¦ key: A function or field name that is used to determine the sorting order.

â™¦ reverse: A boolean value that indicates whether the records should be sorted in reverse order


ğ„ğ±ğšğ¦ğ©ğ¥ğğ¬

ğŸŸ # Sort the records from ğ¨ğ¥ğğğ¬ğ­ to ğ§ğğ°ğğ¬ğ­
by create date.
env['sale.order'].search([]).
ğ¬ğ¨ğ«ğ­ğğ(key='create_date').
mapped('create_date')
# [ (2023, 10, 01), (2023, 10, 02), (2023, 10, 03)]


ğŸŸ # Sort the records from ğ§ğğ°ğğ¬ğ­ to ğ¨ğ¥ğğğ¬ğ­
by create date.
env['sale.order'].search([]).
ğ¬ğ¨ğ«ğ­ğğ(key='create_date', ğ«ğğ¯ğğ«ğ¬ğ=ğ“ğ«ğ®ğ).
mapped('create_date')

# [ (2023, 10, 03), (2023, 10, 02), (2023, 10, 01)]


ğŸŸ # Sort the records using multiple fields
env['sale.order'].search([]).
ğ¬ğ¨ğ«ğ­ğğ(key=lambda x: (ğ±.ğ§ğšğ¦ğ, ğ±.ğ©ğšğ«ğ­ğ§ğğ«_ğ¢ğ, ğ±.ğœğ«ğğšğ­ğ_ğğšğ­ğ))

# sale.order(1, 2, 3, 4)

----------------------------------------------------------------------------------------------------------------------------------------------
5. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬ : ğ…ğ¢ğ¥ğ­ğğ«ğğ Function â˜”

filtered() is a powerful function that allows you to filter records based on a given criteria. This can be useful for a variety of tasks, such as:

Only processing records that meet certain conditions. For example, you might want to only process records that have a certain status.

The filtered() function takes two arguments:

â™¦ ğ˜´ğ˜¦ğ˜­ğ˜§ :  The recordset that you want to filter.
â™¦ ğ˜§ğ˜¶ğ˜¯ğ˜¤ : A function or a dot-separated sequence of field names

ğ„ğ±ğšğ¦ğ©ğ¥ğğ¬

# Only keep records of whose user is the current user.
â© records.filtered(lambda r: r.user_id == user.id)

# Only keep records that have a status of "done".
â© records.filtered("state == 'done'")

# Only keep records of whose partner is a company.
â© records.filtered("partner_id.is_company")

The filtered() function is very efficient and can be used
to filter large recordsets quickly

----------------------------------------------------------------------------------------------------------------------------------------------
6. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬ : ğŒğšğ©ğ©ğğ Function â˜”

mapped() is quite important in code optimization
It avoids loops that have been defined by the user.
It gives you a list of field values. Its argument accepts a string value as the column name and returns all the possible values from the recordset.

The mapped() function takes two arguments:

ğ¬ğğ¥ğŸ: The recordset to which the function will be applied.
ğŸğ®ğ§ğœ: A function or a field name sequence separated by a dot.


ğ„ğ±ğšğ¦ğ©ğ¥ğğ¬

ğŸŒ€ self.env['res.partner'].search([]).ğ¦ğšğ©ğ©ğğ('email')
# ['test1@yourcompany', 'test2@agrolait', 'test3@example']

ğŸŒ€ records.ğ¦ğšğ©ğ©ğğ(lambda r: r.field1 + r.field2)
# loop every record and sum two fields

ğŸŒ€ self.env['sale.order'].search([]).
ğ¦ğšğ©ğ©ğğ('order_line.product_uom_qty')
# [3.0, 3.0, 2.0, 4.0, 6.0]
# Return quantity from each order line from order_line for each sale order


ğ“ğ¡ğ ğ¦ğšğ©ğ©ğğ() function can be used to implement a variety of different data transformations, such as:

â„ Calculating new fields
â„ Filtering records
â„ Converting recordsets to different formats
â„ Joining recordsets

----------------------------------------------------------------------------------------------------------------------------------------------
7. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬ : Create ğŸ“š

It is used to create new records for a given model. It takes a ğ¥ğ¢ğ¬ğ­ ğ¨ğŸ ğğ¢ğœğ­ğ¢ğ¨ğ§ğšğ«ğ¢ğğ¬ as input, where each dictionary represents the values for the fields of the new record.

ğ‘ğğ­ğ®ğ«ğ§:  a list of the created records.

ğ„ğ±ğšğ¦ğ©ğ¥ğ

self.env['res.partner'].create(
[
{'name': 'test1'},
{'name': 'test2'}
])
# Result : res.partner(7, 8)


ğƒğğœğ¨ğ«ğšğ­ğğ ğ°ğ¢ğ­ğ¡ ğŸ”½

1ï¸âƒ£ The @api.model_create_multi decorator : indicates that the function can be used to create multiple records at once.
2ï¸âƒ£ The @api.returns() decorator : indicates that the function returns a list of records.

ğŸ”† If you don't know what a ğğğœğ¨ğ«ğšğ­ğ¨ğ« is or how work don't worry,
we'll talk about that in more detail in the post about how to make your own decorator.

ğŸ”† The create method first checks if the user has permission
to create records of the specified model.
If the user does not have permission, an AccessError is raised.

----------------------------------------------------------------------------------------------------------------------------------------------
8. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬ :Read ğŸ“š

it allows you to read data from the database.
It ğ­ğšğ¤ğğ¬ ğš ğ¥ğ¢ğ¬ğ­ ğ¨ğŸ ğŸğ¢ğğ¥ğğ¬ ğšğ¬ ğ¢ğ§ğ©ğ®ğ­ and returns a list of dictionaries mapping field

it takes param called ğŸğ¢ğğ¥ğğ¬ : This parameter specifies which
fields you want to read from the database.

ğ„ğ±ğšğ¦ğ©ğ¥ğ

fields = ['name', 'email']
res = self.env['res.partner'].browse( (7,8) ).read(fields)

Result
# [
# {'email': 'mark.brown23@example', 'id': 7, 'name': 'Marc Demo'},
# {'email': 'joel.willis63@example', 'id': 8, 'name': 'Joel Willis'}
# ]

ğŸ’¡ IF you do not specify any fields the read function will return
all fields for the record.


- How work ?

works by first fetching the stored fields from the database to the cache. 
Stored fields are fields that are stored in the database

- Why important ?

- Send data to Another system (Integration)
- Display data in a list view or form view
- Export data to a file

----------------------------------------------------------------------------------------------------------------------------------------------
9. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬ : Write ğŸ“š

write() function is a used for updating records. 
It allows you to update multiple fields on multiple records at once 
and it handles all of the necessary validation and security checks for you.

ğ€ğ«ğ ğ®ğ¦ğğ§ğ­ğ¬:

1ï¸âƒ£ self: This is the record or set of records that you want to write.
2ï¸âƒ£ vals: This is a dictionary of field names and values.

ğ„ğ±ğšğ¦ğ©ğ¥ğğ¬

ğŸ”°# update multi records
orders= self.env['sale.order'].browse((6, 7))
orders.write({'state': 'to_cancel'})

ğŸ”° # update one record
self.user_admin = self.env.ref('base.user_admin')
self.user_admin.write({'name': 'Zahra'})


â†ª raise ğ€ğœğœğğ¬ğ¬ğ„ğ«ğ«ğ¨ğ«: if user is not allowed to modify the specified records/fields

----------------------------------------------------------------------------------------------------------------------------------------------
10. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬ : name_create ğŸ“š

convenient way to create a new record by providing only the display name (ğ«ğğœ_ğ§ğšğ¦ğ).

The name_create() method will initialize the new record with any default values applicable to the model or provided through the context.

ğšğ«ğ ğ®ğ¦ğğ§ğ­: the display name of the new record
ğ«ğğ­ğ®ğ«ğ§ : name_get for the record

ğ„ğ±ğšğ¦ğ©ğ¥ğ

self.env['res.partner'].name_create('Test1')
# Output : (1, 'Test 1')

â© The usual behavior of create() applies, such as checking access rights.

â© useful method for creating new records quickly and easily then handle more data later on

ğŸ”° What happens if you call this method on a model that doesn't have a rec_name?
Return ğ…ğšğ¥ğ¬ğ and in log, we have below warning
"""Cannot execute name_create, no _rec_name defined..."""

Don't worry if you have trouble with ğ«ğğœ_ğ§ğšğ¦ğ; we'll look into it more when we talk about class attributes that Odoo provide

----------------------------------------------------------------------------------------------------------------------------------------------
11. ĞœĞµÑ‚Ğ¾Ğ´Ğ¸ ORM : name_get ğŸ“š

ĞœĞµÑ‚Ğ¾Ğ´ name_get(), Ğ²Ğ¸Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğ¹ Ñƒ Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ–Ğ¹ Ğ¼Ğ¾Ğ´ĞµĞ»Ñ–, Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑÑ” Ğ½Ğ°Ğ»Ğ°ÑˆÑ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ ÑĞ¿Ğ¾ÑÑ–Ğ± Ğ²Ñ–Ğ´Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ·Ğ°Ğ¿Ğ¸ÑÑ–Ğ².

Ğ—Ğ° Ğ·Ğ°Ğ¼Ğ¾Ğ²Ñ‡ÑƒĞ²Ğ°Ğ½Ğ½ÑĞ¼ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ name_get() Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ¿Ğ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ Ğ¿Ğ¾Ğ»Ñ rec_name. ĞĞ´Ğ½Ğ°Ğº Ñ†Ñ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ¿ĞµÑ€ĞµĞ²Ğ¸Ğ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚Ğ¸, Ñ‰Ğ¾Ğ± ÑÑ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ Ğ²Ğ»Ğ°ÑĞ½Ñƒ Ğ»Ğ¾Ğ³Ñ–ĞºÑƒ Ğ²Ñ–Ğ´Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ·Ğ°Ğ¿Ğ¸ÑÑ–Ğ².

ĞŸÑ€Ğ¸ĞºĞ»Ğ°Ğ´ ğŸ”°

ĞœĞ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾, Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ¾ Ğ²Ñ–Ğ´Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¸Ñ‚Ğ¸ Ğ½Ğ°Ğ·Ğ²Ñƒ Ğ·Ğ°Ğ¼Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ½Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶ Ñ€Ğ°Ğ·Ğ¾Ğ¼ Ñ–Ğ· Ñ–Ğ¼ĞµĞ½ĞµĞ¼ Ğ¿Ğ°Ñ€Ñ‚Ğ½ĞµÑ€Ğ° Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿Ğ¸ÑÑ–Ğ², ÑĞºÑ– Ğ²Ñ–Ğ´Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°ÑÑ‚ÑŒÑÑ Ğ² Ñ€ĞµĞ¶Ğ¸Ğ¼Ñ– Ğ·Ğ²'ÑĞ·ĞºÑƒ

def name_get(self):
    Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ = []
    Ğ”Ğ»Ñ Ğ·Ğ°Ğ¿Ğ¸ÑÑƒ Ğ² ÑĞµĞ±Ğµ:
      result.append((record.id, "%s (%s)" %
(record.name, record.partner_id.Ñ–Ğ¼'Ñ)))
    Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ¿Ğ¾Ğ²ĞµÑ€Ğ½ĞµĞ½Ğ½Ñ

Ğ§Ğ¾Ğ¼Ñƒ Ğ²Ğ°Ğ¶Ğ»Ğ¸Ğ²Ğ¾? ğŸ”°

Ğ—Ğ° Ğ´Ğ¾Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ¾Ñ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ— name_get() Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ²Ñ–Ğ´Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¸Ñ‚Ğ¸ Ğ´Ğ¾Ğ´Ğ°Ñ‚ĞºĞ¾Ğ²Ñƒ Ñ–Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ñ–Ñ Ğ¿Ñ€Ğ¾ ĞºĞ¾Ğ¶ĞµĞ½ Ğ·Ğ°Ğ¿Ğ¸Ñ, Ğ½Ğ°Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´ ĞµĞ»ĞµĞºÑ‚Ñ€Ğ¾Ğ½Ğ½Ñƒ Ğ¿Ğ¾ÑˆÑ‚Ñƒ Ñ‚Ğ° ÑÑ‚Ğ°Ğ½ ĞºĞ»Ñ–Ñ”Ğ½Ñ‚Ğ° Ğ°Ğ±Ğ¾ Ğ²Ğ°Ñ€Ñ‚Ñ–ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñƒ

Ğ¦Ğµ Ğ¼Ğ¾Ğ¶Ğµ Ğ·Ñ€Ğ¾Ğ±Ğ¸Ñ‚Ğ¸ Ğ²Ğ°ÑˆÑ– ÑĞ¿Ğ¸ÑĞºĞ¸ Ñ‚Ğ° Ñ€Ğ¾Ğ·ĞºÑ€Ğ¸Ğ²Ğ½Ñ– Ğ¼ĞµĞ½Ñ Ğ¿Ñ€Ğ¾ÑÑ‚Ñ–ÑˆĞ¸Ğ¼Ğ¸ Ğ´Ğ»Ñ Ñ€Ğ¾Ğ·ÑƒĞ¼Ñ–Ğ½Ğ½Ñ Ñ‚Ğ° Ğ±Ñ–Ğ»ÑŒÑˆ Ñ‡Ğ¸Ñ‚Ğ°Ğ±ĞµĞ»ÑŒĞ½Ğ¸Ğ¼Ğ¸.

----------------------------------------------------------------------------------------------------------------------------------------------
12. ğğ‘ğŒ ğŒğğ­ğ¡ğ¨ğğ¬ : Unlink ğŸ“š

It is a simple method used for deleting records from the database.
There is no way to undo the deletion once you have executed it.
Ğ¦Ğµ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¸Ğ¹ Ğ¼ĞµÑ‚Ğ¾Ğ´, ÑĞºĞ¸Ğ¹ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ”Ñ‚ÑŒÑÑ Ğ´Ğ»Ñ Ğ²Ğ¸Ğ´Ğ°Ğ»ĞµĞ½Ğ½Ñ Ğ·Ğ°Ğ¿Ğ¸ÑÑ–Ğ² Ğ· Ğ±Ğ°Ğ·Ğ¸ Ğ´Ğ°Ğ½Ğ¸Ñ….
ĞĞµĞ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ ÑĞºĞ°ÑÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ²Ğ¸Ğ´Ğ°Ğ»ĞµĞ½Ğ½Ñ Ğ¿Ñ–ÑĞ»Ñ Ğ¹Ğ¾Ğ³Ğ¾ Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ½Ñ.

ğ„ğ±ğšğ¦ğ©ğ¥ğ ğŸ”°

cancel_orders= env['sale.order'].search([('state', '=', 'cancel')])
cancel_orders.ğ®ğ§ğ¥ğ¢ğ§ğ¤()
# Return True

ğ‡ğ¨ğ° ğ°ğ¨ğ«ğ¤ ?

â¡ Checking access rights to ensure that the user is allowed to delete the records
â¡ Deleting any attachments associated with the records
â¡ Invalidating the entire cache
â¡ Deleting the records' properties

Ğ¯Ğº Ğ¿Ñ€Ğ°Ñ†ÑÑÑ‚ÑŒ ?

â¡ ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ° Ğ¿Ñ€Ğ°Ğ² Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ñƒ, Ñ‰Ğ¾Ğ± Ğ¿ĞµÑ€ĞµĞºĞ¾Ğ½Ğ°Ñ‚Ğ¸ÑÑ, Ñ‰Ğ¾ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡ĞµĞ²Ñ– Ğ´Ğ¾Ğ·Ğ²Ğ¾Ğ»ĞµĞ½Ğ¾ Ğ²Ğ¸Ğ´Ğ°Ğ»ÑÑ‚Ğ¸ Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸
â¡ Ğ’Ğ¸Ğ´Ğ°Ğ»ĞµĞ½Ğ½Ñ Ğ²ĞºĞ»Ğ°Ğ´ĞµĞ½ÑŒ, Ğ¿Ğ¾Ğ²'ÑĞ·Ğ°Ğ½Ğ¸Ñ… Ñ–Ğ· Ğ·Ğ°Ğ¿Ğ¸ÑĞ°Ğ¼Ğ¸
â¡ Ğ’Ğ¸Ğ·Ğ½Ğ°Ğ½Ğ½Ñ Ğ½ĞµĞ´Ñ–Ğ¹ÑĞ½Ğ¸Ğ¼ ÑƒÑÑŒĞ¾Ğ³Ğ¾ ĞºĞµÑˆÑƒ
â¡ Ğ’Ğ¸Ğ´Ğ°Ğ»ĞµĞ½Ğ½Ñ Ğ²Ğ»Ğ°ÑÑ‚Ğ¸Ğ²Ğ¾ÑÑ‚ĞµĞ¹ Ğ·Ğ°Ğ¿Ğ¸ÑÑ–Ğ²

----------------------------------------------------------------------------------------------------------------------------------------------
13. How do I execute a SQL ğªğ®ğğ«ğ² inside an Odoo module? ğŸ‘¾

1ï¸âƒ£ ğœğ« = ğ¬ğğ¥ğŸ.ğğ§ğ¯.ğœğ«
You can use the self.env.cr object. This object provides a direct connection
to the database.
ĞœĞ¾Ğ¶Ğ½Ğ° Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¾Ğ±'Ñ”ĞºÑ‚ self.env.cr. Ğ¦ĞµĞ¹ Ğ¾Ğ±'Ñ”ĞºÑ‚ Ğ·Ğ°Ğ±ĞµĞ·Ğ¿ĞµÑ‡ÑƒÑ” Ğ¿Ñ€ÑĞ¼Ğµ Ğ·'Ñ”Ğ´Ğ½Ğ°Ğ½Ğ½Ñ
Ğ² Ğ±Ğ°Ğ·Ñƒ Ğ´Ğ°Ğ½Ğ¸Ñ….

2ï¸âƒ£ ğœğ«.ğğ±ğğœğ®ğ­ğ() 
Use the cr.execute() method to execute the query.
You can pass in the query as a string or as a variable containing the query
Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ¹Ñ‚Ğµ Ğ¼ĞµÑ‚Ğ¾Ğ´ cr.execute() Ğ´Ğ»Ñ Ğ²Ğ¸ĞºĞ¾Ğ½Ğ°Ğ½Ğ½Ñ Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñƒ.
Ğ£ Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñ– Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‚Ğ¸ Ñ€ÑĞ´Ğ¾Ğº Ğ°Ğ±Ğ¾ Ğ·Ğ¼Ñ–Ğ½Ğ½Ñƒ, Ñ‰Ğ¾ Ğ¼Ñ–ÑÑ‚Ğ¸Ñ‚ÑŒ Ğ·Ğ°Ğ¿Ğ¸Ñ‚

3ï¸âƒ£ ğœğ«.ğŸğğ­ğœğ¡ğšğ¥ğ¥()
Use the cr.fetchall() method to fetch the results of the query.
This will return a list of tuples, where each tuple represents
a row in the result set.
Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ¹Ñ‚Ğµ Ğ¼ĞµÑ‚Ğ¾Ğ´ cr.fetchall() Ğ´Ğ»Ñ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ–Ğ² Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñƒ.
Ğ¦Ğµ Ğ¿Ğ¾Ğ²ĞµÑ€Ğ½Ğµ ÑĞ¿Ğ¸ÑĞ¾Ğº ĞºĞ¾Ñ€Ñ‚ĞµĞ¶Ñ–Ğ², Ğ´Ğµ ĞºĞ¾Ğ¶ĞµĞ½ ĞºĞ¾Ñ€Ñ‚ĞµĞ¶ Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ÑÑ”
Ñ€ÑĞ´Ğ¾Ğº Ñƒ Ğ½Ğ°Ğ±Ğ¾Ñ€Ñ– Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ–Ğ².

4ï¸âƒ£ ğƒğ¨ ğ¬ğ¨ğ¦ğğ­ğ¡ğ¢ğ§ğ  ğ°ğ¢ğ­ğ¡ ğ­ğ¡ğ ğ«ğğ¬ğ®ğ¥ğ­ğ¬

Example ğŸ²

cr = self.env.cr

# Execute the query
cr.execute(""" SELECT id ,name,email
FROM res_partner
WHERE id in %s
""", (((1, 2)),))

res = cr.fetchall()

# Do something with the results
res_data = { id: (name, email) for id, name, email in res }

# Result
# {
# 1: ('My Company (San Francisco)', info@yourcompany'),
# 2: ('OdooBot', 'odoobot@example')
# }

----------------------------------------------------------------------------------------------------------------------------------------------
14. Str2bool(value) ğŸš€

Sometimes, when we're working in Odoo, we need to change the return result to a bool. To do this, you can import a simple function called str2bool.

takes a string as input and converts it to a boolean value.

Ğ†Ğ½Ğ¾Ğ´Ñ–, ĞºĞ¾Ğ»Ğ¸ Ğ¼Ğ¸ Ğ¿Ñ€Ğ°Ñ†ÑÑ”Ğ¼Ğ¾ Ğ² Odoo, Ğ½Ğ°Ğ¼ Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ¾ Ğ·Ğ¼Ñ–Ğ½Ğ¸Ñ‚Ğ¸ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ¿Ğ¾Ğ²ĞµÑ€Ğ½ĞµĞ½Ğ½Ñ Ğ½Ğ° Ğ±ÑƒĞ»ĞµĞ²Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ. Ğ”Ğ»Ñ Ñ†ÑŒĞ¾Ğ³Ğ¾ Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ñ–Ğ¼Ğ¿Ğ¾Ñ€Ñ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾ÑÑ‚Ñƒ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ Ğ¿Ñ–Ğ´ Ğ½Ğ°Ğ·Ğ²Ğ¾Ñ str2bool.

Ğ¿Ñ€Ğ¸Ğ¹Ğ¼Ğ°Ñ” Ñ€ÑĞ´Ğ¾Ğº ÑĞº Ğ²Ñ…Ñ–Ğ´Ğ½Ñ– Ğ´Ğ°Ğ½Ñ– Ñ‚Ğ° Ğ¿ĞµÑ€ĞµÑ‚Ğ²Ğ¾Ñ€ÑÑ” Ğ¹Ğ¾Ğ³Ğ¾ Ğ½Ğ° Ğ»Ğ¾Ğ³Ñ–Ñ‡Ğ½Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ.

â–â–â–

ğğšğ«ğšğ¦ğ¬
value (str)

ğ‘ğğ­ğ®ğ«ğ§ 
The boolean value is True if the string is one of the following: 
"y", "yes", "1", "true", "t", or "on".

The boolean value is False if the string is one of the following:
"n", "no", "0", "false", "f", or "off".

If the string is not in any of the above lists,
The function raises a ValueError exception.

ğ„ğ±ğšğ¦ğ©ğ¥ğğ¬

â‡ï¸ str2bool('yes')
>>> True

â‡ï¸ str2bool('off')
>>> False

â‡ï¸ str2bool(â€˜fooâ€™)
>>> Exception from type {ValueError}

----------------------------------------------------------------------------------------------------------------------------------------------
15. ğ€ğğ(value, *args, **kwargs) function

The add function defined in date utils Package can be used to add days, weeks, and months to a date / datetime
Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ñ add, Ğ²Ğ¸Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ° Ğ² date utils Package, Ğ¼Ğ¾Ğ¶Ğµ Ğ±ÑƒÑ‚Ğ¸ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ° Ğ´Ğ»Ñ Ğ´Ğ¾Ğ´Ğ°Ğ²Ğ°Ğ½Ğ½Ñ Ğ´Ğ½Ñ–Ğ², Ñ‚Ğ¸Ğ¶Ğ½Ñ–Ğ² Ñ– Ğ¼Ñ–ÑÑÑ†Ñ–Ğ² Ğ´Ğ¾ Ğ´Ğ°Ñ‚Ğ¸ / datetime

ğ€ğ«ğ ğ®ğ¦ğğ§ğ­ğ¬

- ğ¯ğšğ¥ğ®ğ: This is the initial date or datetime that you want
to add the relativedelta to.

- *ğšğ«ğ ğ¬: A variable number of positional arguments explicitly passed to the relativedelta() class.

- **ğ¤ğ°ğšğ«ğ ğ¬: This is a dictionary of keyword arguments sent straight to the relativedelta() class.

ĞÑ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ğ¸

- value: Ñ†Ğµ Ğ¿Ğ¾Ñ‡Ğ°Ñ‚ĞºĞ¾Ğ²Ğ° Ğ´Ğ°Ñ‚Ğ° Ğ°Ğ±Ğ¾ Ğ´Ğ°Ñ‚Ğ°, ÑĞºÑƒ Ğ²Ğ¸ Ñ…Ğ¾Ñ‡ĞµÑ‚Ğµ
, Ñ‰Ğ¾Ğ± Ğ´Ğ¾Ğ´Ğ°Ñ‚Ğ¸ Ğ²Ñ–Ğ´Ğ½Ğ¾ÑĞ½Ñƒ Ğ´ĞµĞ»ÑŒÑ‚Ñƒ Ğ´Ğ¾.

- *args: Ğ—Ğ¼Ñ–Ğ½Ğ½Ğ° ĞºÑ–Ğ»ÑŒĞºÑ–ÑÑ‚ÑŒ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ñ–Ğ¹Ğ½Ğ¸Ñ… Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ñ–Ğ², ÑĞ²Ğ½Ğ¾ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ½Ğ¸Ñ… ĞºĞ»Ğ°ÑÑƒ relativedelta().

- **kwargs: Ğ¦Ğµ ÑĞ»Ğ¾Ğ²Ğ½Ğ¸Ğº Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ñ–Ğ² ĞºĞ»ÑÑ‡Ğ¾Ğ²Ğ¸Ñ… ÑĞ»Ñ–Ğ², Ñ‰Ğ¾ Ğ½Ğ°Ğ´ÑĞ¸Ğ»Ğ°ÑÑ‚ÑŒÑÑ Ğ±ĞµĞ·Ğ¿Ğ¾ÑĞµÑ€ĞµĞ´Ğ½ÑŒĞ¾ Ğ´Ğ¾ ĞºĞ»Ğ°ÑÑƒ relativedelta().

ğ‘ğğ­ğ®ğ«ğ§: date/datetime

-------------

ğ„ğ±ğšğ¦ğ©ğ¥ğğ¬ ğŸ“¢

# import
from datetime import ğğšğ­ğ
from odoo.tools.date_utils import ğšğğ

>>> add(date(2023,8, 7), days=1)
2023-08-08

>>> add(date(2023,8, 7), weeks=1)
2023-08-14

>>> add(date(2023,8, 7), months=1)
2023-09-07

>>> add(date(2023,8, 7), years=1)
2024-08-07

The below expression is used to add days, months, and years together.
>>> add(date(2023, 8, 7), days = 1, months = 1, years = 1)
2024-09-08

----------------------------------------------------------------------------------------------------------------------------------------------
16. ğğ§ğ_ğ¨ğŸ function ğŸ’¡

ğğ§ğ_ğ¨ğŸ is a built-in function in Odoo that can be used to get the end of a time period.
end_of - Ñ†Ğµ Ğ²Ğ±ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ° Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ Ğ² Odoo, ÑĞºÑƒ Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ´Ğ»Ñ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ ĞºÑ–Ğ½Ñ†Ñ Ğ¿ĞµÑ€Ñ–Ğ¾Ğ´Ñƒ Ñ‡Ğ°ÑÑƒ.

The time period can be specified by a string
such as â€œhourâ€,"day", "week", or "month"
ĞŸĞµÑ€Ñ–Ğ¾Ğ´ Ñ‡Ğ°ÑÑƒ Ğ¼Ğ¾Ğ¶Ğµ Ğ±ÑƒÑ‚Ğ¸ Ğ²ĞºĞ°Ğ·Ğ°Ğ½Ğ¾ Ñ€ÑĞ´ĞºĞ¾Ğ¼
ĞĞ°Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´, "Ğ³Ğ¾Ğ´Ğ¸Ğ½Ğ°", "Ğ´ĞµĞ½ÑŒ", "Ñ‚Ğ¸Ğ¶Ğ´ĞµĞ½ÑŒ" Ğ°Ğ±Ğ¾ "Ğ¼Ñ–ÑÑÑ†ÑŒ"

This function takes two arguments:
Ğ¦Ñ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ Ğ¿Ñ€Ğ¸Ğ¹Ğ¼Ğ°Ñ” Ğ´Ğ²Ğ° Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ğ¸:

1ï¸âƒ£ ğ¯ğšğ¥ğ®ğ: A date or datetime object.
2ï¸âƒ£ ğ ğ«ğšğ§ğ®ğ¥ğšğ«ğ¢ğ­ğ²: The allowed values are
year, quarter, month, week, day, and hour

1ï¸âƒ£ value: Ğ¾Ğ±'Ñ”ĞºÑ‚ date Ğ°Ğ±Ğ¾ datetime.
2ï¸âƒ£ Ğ´ĞµÑ‚Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ: Ğ´Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ğ¼Ñ– Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ
Ñ€Ñ–Ğº, ĞºĞ²Ğ°Ñ€Ñ‚Ğ°Ğ», Ğ¼Ñ–ÑÑÑ†ÑŒ, Ñ‚Ğ¸Ğ¶Ğ´ĞµĞ½ÑŒ, Ğ´ĞµĞ½ÑŒ Ñ– Ğ³Ğ¾Ğ´Ğ¸Ğ½Ğ°

ğ‘ğğ­ğ®ğ«ğ§
a date/datetime object corresponding to the end of the specified period.
Ğ¾Ğ±'Ñ”ĞºÑ‚ date/datetime, Ñ‰Ğ¾ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ°Ñ” Ğ·Ğ°ĞºÑ–Ğ½Ñ‡ĞµĞ½Ğ½Ñ Ğ²ĞºĞ°Ğ·Ğ°Ğ½Ğ¾Ğ³Ğ¾ Ğ¿ĞµÑ€Ñ–Ğ¾Ğ´Ñƒ.


ğ„ğ±ğšğ¦ğ©ğ¥ğğ¬ ğŸ“¢

# import
from datetime import date, datetime
from odoo.tools.date_utils import end_of


# get end of year
>>> end_of(date(2023, 9, 12), "year")
2023-12-31

# get end of month
>>> end_of(date(2023, 9, 12), "month")
2023-09-30

# get end of week
>>> end_of(date(2023, 9, 12), "week")
2023-09-17

# get end of hour
>>> end_of(datetime(2023, 9, 12, 14, 10), "hour")
2023-09-12 14:59:59.999999

-------------

in case you need to know the start of time period, check below

----------------------------------------------------------------------------------------------------------------------------------------------
17. ğ’ğ­ğšğ«ğ­_ğ¨ğŸ function in Odoo ğŸ’¡

The start_of is a built-in function in Odoo that can be used to get the start of a time period.
start_of - Ñ†Ğµ Ğ²Ğ±ÑƒĞ´Ğ¾Ğ²Ğ°Ğ½Ğ° Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ Ğ² Odoo, ÑĞºÑƒ Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ´Ğ»Ñ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ Ğ¿Ğ¾Ñ‡Ğ°Ñ‚ĞºÑƒ Ğ¿ĞµÑ€Ñ–Ğ¾Ğ´Ñƒ Ñ‡Ğ°ÑÑƒ.

The time period can be specified by a string
such as â€œhourâ€,"day", "week", or "month"
ĞŸĞµÑ€Ñ–Ğ¾Ğ´ Ñ‡Ğ°ÑÑƒ Ğ¼Ğ¾Ğ¶Ğµ Ğ±ÑƒÑ‚Ğ¸ Ğ²ĞºĞ°Ğ·Ğ°Ğ½Ğ¾ Ñ€ÑĞ´ĞºĞ¾Ğ¼
ĞĞ°Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´, "Ğ³Ğ¾Ğ´Ğ¸Ğ½Ğ°", "Ğ´ĞµĞ½ÑŒ", "Ñ‚Ğ¸Ğ¶Ğ´ĞµĞ½ÑŒ" Ğ°Ğ±Ğ¾ "Ğ¼Ñ–ÑÑÑ†ÑŒ"


This function takes two arguments:
Ğ¦Ñ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ Ğ¿Ñ€Ğ¸Ğ¹Ğ¼Ğ°Ñ” Ğ´Ğ²Ğ° Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚Ğ¸:

1ï¸âƒ£ ğ¯ğšğ¥ğ®ğ: A date or datetime object.
2ï¸âƒ£ ğ ğ«ğšğ§ğ®ğ¥ğšğ«ğ¢ğ­ğ²: The allowed values are
year, quarter, month, week, day, and hour.

1ï¸âƒ£ value: Ğ¾Ğ±'Ñ”ĞºÑ‚ date Ğ°Ğ±Ğ¾ datetime.
2ï¸âƒ£ Ğ´ĞµÑ‚Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ: Ğ´Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ğ¼Ñ– Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ
Ñ€Ñ–Ğº, ĞºĞ²Ğ°Ñ€Ñ‚Ğ°Ğ», Ğ¼Ñ–ÑÑÑ†ÑŒ, Ñ‚Ğ¸Ğ¶Ğ´ĞµĞ½ÑŒ, Ğ´ĞµĞ½ÑŒ Ñ– Ğ³Ğ¾Ğ´Ğ¸Ğ½Ğ°.

ğ‘ğğ­ğ®ğ«ğ§
a date/datetime object corresponding to the start of the specified period.
Ğ¾Ğ±'Ñ”ĞºÑ‚ date/datetime, Ñ‰Ğ¾ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ°Ñ” Ğ¿Ğ¾Ñ‡Ğ°Ñ‚ĞºÑƒ Ğ²ĞºĞ°Ğ·Ğ°Ğ½Ğ¾Ğ³Ğ¾ Ğ¿ĞµÑ€Ñ–Ğ¾Ğ´Ñƒ.

ğ„ğ±ğšğ¦ğ©ğ¥ğğ¬ ğŸ’¥

# import
from datetime import datetime
from odoo.tools.date_utils import ğ¬ğ­ğšğ«ğ­_ğ¨ğŸ

# get the start of year
>>> start_of(datetime(2023, 8, 31), "year")
2023-01-01 00:00:00

# get the start of month
>>> start_of(datetime(2023, 8, 31), "month")
2023-08-01 00:00:00

# get the start of week
>>> start_of(datetime(2023, 8, 31), "week")
2023-08-28 00:00:00

# get the start of hour
>>> start_of(datetime(2023, 8, 31, 14, 55), "hour")
2023-08-31 14:00:00

----------------------------------------------------------------------------------------------------------------------------------------------
18. Model.with_env ğŸš€

The with_env() method temporarily changes the environment of the current model to the new environment.
ĞœĞµÑ‚Ğ¾Ğ´ with_env() Ñ‚Ğ¸Ğ¼Ñ‡Ğ°ÑĞ¾Ğ²Ğ¾ Ğ·Ğ¼Ñ–Ğ½ÑÑ” Ğ¾Ñ‚Ğ¾Ñ‡ĞµĞ½Ğ½Ñ Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ğ¾Ñ— Ğ¼Ğ¾Ğ´ĞµĞ»Ñ– Ğ½Ğ° Ğ½Ğ¾Ğ²Ğµ ÑĞµÑ€ĞµĞ´Ğ¾Ğ²Ğ¸Ñ‰Ğµ.

This can be useful for testing code in different contexts or accessing data that is not normally accessible in the current environment.
Ğ¦Ğµ Ğ¼Ğ¾Ğ¶Ğµ Ğ±ÑƒÑ‚Ğ¸ ĞºĞ¾Ñ€Ğ¸ÑĞ½Ğ¸Ğ¼ Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ ĞºĞ¾Ğ´Ñƒ Ğ² Ñ€Ñ–Ğ·Ğ½Ğ¸Ñ… ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°Ñ… Ğ°Ğ±Ğ¾ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ñƒ Ğ´Ğ¾ Ğ´Ğ°Ğ½Ğ¸Ñ…, ÑĞºÑ– Ğ·Ğ°Ğ·Ğ²Ğ¸Ñ‡Ğ°Ğ¹ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ– Ğ² Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ğ¾Ğ¼Ñƒ ÑĞµÑ€ĞµĞ´Ğ¾Ğ²Ğ¸Ñ‰Ñ–.

Return a new version of this recordset attached to the provided environment
ĞŸĞ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” Ğ½Ğ¾Ğ²Ñƒ Ğ²ĞµÑ€ÑÑ–Ñ Ñ†ÑŒĞ¾Ğ³Ğ¾ Ğ½Ğ°Ğ±Ğ¾Ñ€Ñƒ Ğ·Ğ°Ğ¿Ğ¸ÑÑ–Ğ², Ğ´Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ñƒ Ğ´Ğ¾ Ğ½Ğ°Ğ´Ğ°Ğ½Ğ¾Ğ³Ğ¾ ÑĞµÑ€ĞµĞ´Ğ¾Ğ²Ğ¸Ñ‰Ğ°

ğ‡ğ¨ğ° ğ­ğ¨ ğ®ğ¬ğ â“

To use the with_env() method, you first need to create a new environment object. You can do this by passing the current environment to the with_env() method.
Ğ©Ğ¾Ğ± Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¼ĞµÑ‚Ğ¾Ğ´ with_env(), ÑĞ¿Ğ¾Ñ‡Ğ°Ñ‚ĞºÑƒ Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ¾ ÑÑ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ Ğ½Ğ¾Ğ²Ğ¸Ğ¹ Ğ¾Ğ±'Ñ”ĞºÑ‚ ÑĞµÑ€ĞµĞ´Ğ¾Ğ²Ğ¸Ñ‰Ğ°. Ğ—Ñ€Ğ¾Ğ±Ğ¸Ñ‚Ğ¸ Ñ†Ğµ Ğ¼Ğ¾Ğ¶Ğ½Ğ°, Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ²ÑˆĞ¸ Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ğµ ÑĞµÑ€ĞµĞ´Ğ¾Ğ²Ğ¸Ñ‰Ğµ Ğ² Ğ¼ĞµÑ‚Ğ¾Ğ´ with_env().

ğ„ğ±ğšğ¦ğ©ğ¥ğğ¬

â‡ï¸ env_object = self.env(
user=self.browse_ref('base.public_user'))

self = self.with_env(env_objcect)

â‡ï¸ env_object_ = api.Environment(
cr, self._session.uid, self._session.context)

self = self.with_env(env_objcect)

â–â–â–

ğ–ğ¡ğ² ğ¢ğ¬ ğ¢ğ­ ğ¢ğ¦ğ©ğ¨ğ«ğ­ğšğ§ğ­?

â Testing code in a different environment
â Changing the current Cr ( database cursor), Context, and user , Language
â Change the entire environment for the model

â Ğ¢ĞµÑÑ‚ÑƒĞ²Ğ°Ğ½Ğ½Ñ ĞºĞ¾Ğ´Ñƒ Ğ² Ñ–Ğ½ÑˆĞ¾Ğ¼Ñƒ ÑĞµÑ€ĞµĞ´Ğ¾Ğ²Ğ¸Ñ‰Ñ–
â Ğ—Ğ¼Ñ–Ğ½Ğ° Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Cr ( ĞºÑƒÑ€ÑĞ¾Ñ€ Ğ±Ğ°Ğ·Ğ¸ Ğ´Ğ°Ğ½Ğ¸Ñ…), ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ñ– ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡ , ĞœĞ¾Ğ²Ğ°
â Ğ—Ğ¼Ñ–Ğ½Ñ–Ñ‚ÑŒ Ğ²ÑĞµ Ğ¾Ñ‚Ğ¾Ñ‡ĞµĞ½Ğ½Ñ Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ´ĞµĞ»Ñ–

----------------------------------------------------------------------------------------------------------------------------------------------
19. Model.sudo() ğŸ’§

The method is used to turn on superuser mode for a model.
ĞœĞµÑ‚Ğ¾Ğ´ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒÑ”Ñ‚ÑŒÑÑ Ğ´Ğ»Ñ Ğ²Ğ²Ñ–Ğ¼ĞºĞ½ĞµĞ½Ğ½Ñ Ñ€ĞµĞ¶Ğ¸Ğ¼Ñƒ ÑÑƒĞ¿ĞµÑ€ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ğ° Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ´ĞµĞ»Ñ–.

When ğ¬ğ®ğ©ğğ«ğ®ğ¬ğğ« ğ¦ğ¨ğğ is turned on, the user skips all checks for access rights and can do anything they want. This can help the user do things like create, delete, or change records that they usually wouldn't be able to do in a normal way.
ĞŸÑ€Ğ¸ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ñ– Ñ€ĞµĞ¶Ğ¸Ğ¼Ñƒ ÑÑƒĞ¿ĞµÑ€ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ğ° ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡ Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑĞºĞ°Ñ” Ğ²ÑÑ– Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸ Ğ¿Ñ€Ğ°Ğ² Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ñƒ Ñ– Ğ¼Ğ¾Ğ¶Ğµ Ñ€Ğ¾Ğ±Ğ¸Ñ‚Ğ¸ Ğ²ÑĞµ, Ñ‰Ğ¾ Ğ·Ğ°Ñ…Ğ¾Ñ‡Ğµ. Ğ¦Ğµ Ğ¼Ğ¾Ğ¶Ğµ Ğ´Ğ¾Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ñ‚Ğ¸ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡ĞµĞ²Ñ– Ğ²Ğ¸ĞºĞ¾Ğ½ÑƒĞ²Ğ°Ñ‚Ğ¸ Ñ‚Ğ°ĞºÑ– Ğ´Ñ–Ñ—, ÑĞº ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ½Ñ, Ğ²Ğ¸Ğ´Ğ°Ğ»ĞµĞ½Ğ½Ñ Ğ°Ğ±Ğ¾ Ğ·Ğ¼Ñ–Ğ½ĞµĞ½Ğ½Ñ Ğ·Ğ°Ğ¿Ğ¸ÑÑ–Ğ², ÑĞºÑ– Ğ²Ñ–Ğ½ Ğ·Ğ°Ğ·Ğ²Ğ¸Ñ‡Ğ°Ğ¹ Ğ½Ğµ Ğ¼Ğ¾Ğ¶Ğµ Ñ€Ğ¾Ğ±Ğ¸Ñ‚Ğ¸ Ğ·Ğ²Ğ¸Ñ‡Ğ°Ğ¹Ğ½Ğ¸Ğ¼ ÑĞ¿Ğ¾ÑĞ¾Ğ±Ğ¾Ğ¼.

ğŸ¥ ğ‘¬ğ’™ğ’‚ğ’ğ’‘ğ’ğ’†

self.env['project.task'].ğ¬ğ®ğğ¨().browse(7).unlink()

# with sudo False
repairs = self.ğ¬ğ®ğğ¨().repair_ids
if repairs:
repairs.ğ¬ğ®ğğ¨(ğ…ğšğ¥ğ¬ğ).state = '2binvoiced'

â–â–â–

ğŸ¥ The Model.sudo() method takes an optional argument, flag,
which specifies whether to enable or disable superuser mode.
The default value of flag is true.

ğŸ¥ ĞœĞµÑ‚Ğ¾Ğ´ Model.sudo() Ğ¿Ñ€Ğ¸Ğ¹Ğ¼Ğ°Ñ” Ğ½ĞµĞ¾Ğ±Ğ¾Ğ²'ÑĞ·ĞºĞ¾Ğ²Ğ¸Ğ¹ Ğ°Ñ€Ğ³ÑƒĞ¼ĞµĞ½Ñ‚, flag,
ÑĞºĞ¸Ğ¹ Ğ²Ğ¸Ğ·Ğ½Ğ°Ñ‡Ğ°Ñ”, Ğ²Ğ¼Ğ¸ĞºĞ°Ñ‚Ğ¸ Ğ°Ğ±Ğ¾ Ğ²Ğ¸Ğ¼Ğ¸ĞºĞ°Ñ‚Ğ¸ Ñ€ĞµĞ¶Ğ¸Ğ¼ ÑÑƒĞ¿ĞµÑ€ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ğ°.
Ğ¢Ğ¸Ğ¿Ğ¾Ğ²Ğ¸Ğ¼ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½ÑĞ¼ flag Ñ” true.

â–â–â–

â˜˜ The Model.sudo() method should be used for a limited time
â˜˜ ĞœĞµÑ‚Ğ¾Ğ´ Model.sudo() ÑĞ»Ñ–Ğ´ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾Ñ‚ÑĞ³Ğ¾Ğ¼ Ğ¾Ğ±Ğ¼ĞµĞ¶ĞµĞ½Ğ¾Ğ³Ğ¾ Ñ‡Ğ°ÑÑƒ

â˜˜ The Model.sudo() method should be used with caution, as it can bypass all access rights checks
â˜˜ ĞœĞµÑ‚Ğ¾Ğ´ Model.sudo() ÑĞ»Ñ–Ğ´ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ· Ğ¾Ğ±ĞµÑ€ĞµĞ¶Ğ½Ñ–ÑÑ‚Ñ, Ğ¾ÑĞºÑ–Ğ»ÑŒĞºĞ¸ Ğ²Ñ–Ğ½ Ğ¼Ğ¾Ğ¶Ğµ Ğ¾Ğ±Ñ–Ğ¹Ñ‚Ğ¸ Ğ²ÑÑ– Ğ¿ĞµÑ€ĞµĞ²Ñ–Ñ€ĞºĞ¸ Ğ¿Ñ€Ğ°Ğ² Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ñƒ

----------------------------------------------------------------------------------------------------------------------------------------------
